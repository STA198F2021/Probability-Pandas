<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Health Insurance and Screening for Chronic Illnesses</title>
    <meta charset="utf-8" />
    <meta name="author" content="Probability Pandas" />
    <meta name="date" content="2021-11-16" />
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <script src="libs/kePrint-0.0.1/kePrint.js"></script>
    <link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Health Insurance and Screening for Chronic Illnesses
## 500 Cities Project
### Probability Pandas
### Duke University
### 2021-11-16

---










class: inverse, middle, center

# 500 Cities Project Database

---

## Background: Screening for Chronic Disease

We found several studies revealing that obtaining a screening test for breast cancer, colorectal cancer, colon cancer, and cervical cancer would reduce a patient's risk of mortality by his or her chronic disease. For example, the American Cancer society conducted a study to observe the effects of mammogram screenings on the prevalence of advanced and fatal breast cancers. The study found that women who received breast cancer screening had a statistically significant 41% reduction in their risk of having a fatal breast cancer case and a 25% reduction in the rates of having advanced breast cancer.^[citation] This study suggests that receiving a screening can decrease the likelihood of having a fatal or worsened case of breast cancer.

- The goal of this report is to analyze how lack of access to health insurance affects peopleâ€™s access to chronic disease screening. 

---

## Research Question

How does lack of access to health insurance correlate to the prevalence of screening for various chronic diseases?

---

## Hypothesis

Our hypothesis is that decreased lack of access to health insurance prevalence is correlated to increased screening for chronic diseases in various cities. Inversely, we also hypothesize that increased lack of access to health insurance prevalence is correlated to decreased screening for chronic diseases in various cities.

- Null Hypothesis: The lack of health insurance has no effect on the number of chronic disease screenings in various cities.

- Alternate Hypothesis:  The lack of health insurance has an effect on the number of chronic disease screenings in various cities.

---

class: inverse, middle, center

# Data Wrangling

---

## New Variables

- Regions: West, Midwest, North, and South
- City Sizes
   Large Metropolitan: population of 1.5 million or more, 
   Metropolitan: population between 500,000-1.5 million,          
   Medium-Size Urban: population was between 200,000-500,000,  
   Small Urban: population between 50,000-200,000
- Number of Individuals Getting Specific Screening

---

class: inverse, middle, center

# Exploratory Data Analysis

---

## Correlation Between Checkups and Screening for Chronic Diseases

&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;Pearson's Correlation Test: Pap Tests and Checkups&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; Correlation Coefficient Estimate &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; P-Value &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; CI Low &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; CI High &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.9979726 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9975606 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9983151 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;Pearson's Correlation Test: Colon Screenings and Checkups&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; Correlation Coefficient Estimate &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; P-Value &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; CI Low &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; CI High &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.9974287 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9969063 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9978629 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;Pearson's Correlation Test: Mammograms and Checkups&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; Correlation Coefficient Estimate &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; P-Value &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; CI Low &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; CI High &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.9988299 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.998592 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9990276 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Checkups by Region
&lt;img src="presentation_files/figure-html/checkups-by-region1-1.png" width="70%" /&gt;

---

## Checkups by Region

&lt;img src="presentation_files/figure-html/checkups-by-region1-again-1.png" width="70%" /&gt;

---

## Checkups by Region
&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;ANOVA: Checkups per capita (log scale), by Region&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;"&gt; Term &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; Statistic &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; P-Value &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; region &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.156728 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.006384 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Checkups by City Size
&lt;img src="presentation_files/figure-html/Simple-Marginal-Relationship4-1.png" width="70%" /&gt;

---

## Checkups by City Size
&lt;img src="presentation_files/figure-html/Simple-Marginal-Relationship5-1.png" width="70%" /&gt;

---

## Checkups by City Size
&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;ANOVA: Checkups per capita (log scale), by Region&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;"&gt; Term &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; Statistic &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; P-Value &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; city_size &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 671.303 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Residuals &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---
class: inverse, middle, center

# Modeling

---

## Multiple Logistic Regression Model


We created a Logistic Regression Model because we wanted to model the binary outcome of whether or not individuals in a certain city were getting checkups or not. 

Model 1: Without Interaction
`$$log(\frac{\pi_{i}}{\pi-1})=\beta_{0} + \beta_{1}*Region + \beta_{2}*CitySize + \beta_{3}HealthInsurance$$`
Model 2: With Interaction
`$$log(\frac{\pi_{i}}{\pi-1})=\beta_{0} + \beta_{1}*Region + \beta_{2}*CitySize + \beta_{3}HealthInsurance + \beta_{1}*Region*CitySize +$$`

`$$\beta_{2}*Region*HealthInsurance + \beta_{3}CitySize*HealthInsurance$$`

---

class: inverse, middle, center

# Model Validation



---

## RMSE Against Training Set



.pull-left[
&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;RMSE of Model 1 Against Traning Dataset&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;"&gt; RMSE &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; Estimate &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; rmse &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0613603 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

.pull-right[
&lt;table class=" lightable-classic table" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;RMSE of Model 2 Against Traning Dataset&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;"&gt; RMSE &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; Estimate &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; rmse &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0613603 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---

## RMSE Against Test Set



.pull-left[
&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;RMSE of Model 1 Against Test Dataset&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;"&gt; RMSE &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; Estimate &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; rmse &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0612217 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

.pull-right[
&lt;table class="table" style="margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;RMSE of Model 2 Against Test Dataset&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;"&gt; RMSE &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; Estimate &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; rmse &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0640844 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]
---

## Results

&lt;table class=" lightable-classic table" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;Model 1: Without Interaction&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;"&gt; Variable &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; Estimate &lt;/th&gt;
   &lt;th style="text-align:right;font-weight: bold;"&gt; P-Value &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Intercept &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.6389210 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Northeast &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.2198744 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; South &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.1097232 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; West &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.7578854 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Medium-Size Urban &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0134531 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Metropolitan &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9971140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0006591 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Small-Size Urban &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9823377 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; HI &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9940535 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Discussion

- Impact of Different Regions on Predicted Checkups
- Impact of Different City Sizes on Predicted Checkups
- Impact of HI on Predicted Checkups

---

## Limitations

- Unequal number of cities for each city size
- Data set only includes 500 largest cities in the US
- Other significant predictors that are not included in this particular dataset

---

## Potential Implications

- Suggestions for further research: Why are cities in the West less likely to have a high prevalence of checkups?
- Results of the model as it pertains to prevalence of lack of health insurance: Increased prevalence of health insurance is correlated to greater amount of checkups per capita, and therefore to increased prevalence of screening for various diseases.
- Mortality: Studies show link from increased screening to decreased mortality.
- Lowered mortality rates may be achieved with greater prevalence of health insurance.

---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
